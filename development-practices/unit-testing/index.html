<!doctype html><html lang=en-us>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<title>Unit Testing | Developer Guidelines</title>
<link rel=preconnect href=https://fonts.gstatic.com crossorigin>
<link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700&display=fallback">
<link rel=stylesheet href=/devguide/css/styles.min.css?2022-01-10><script src=/js/jquery.slim.min.js></script>
<script src=/js/bootstrap.min.js async></script>
<meta name=description content>
<meta property="og:title" content="Unit Testing">
<meta property="og:description" content="Introduction  Unit tests are fitness tests for individual parts of a software program, the part here being the smallest possible testable component. The farther down the lifecycle of a product/service a bug is discovered, the greater the cost of fixing it. Unit testing code provides one means to ensure any product/system is tested early enough in the development lifecycle and so reduces the cost in the long run.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://trimble-oss.github.io/devguide/development-practices/unit-testing/"><meta property="og:image" content="https://devguide.trimble.com/img/preview.png"><meta property="article:section" content="development-practises">
<meta property="article:modified_time" content="2021-08-27T17:05:02+09:00"><meta property="og:site_name" content="Developer Guidelines">
<meta property="og:locale" content="en_US">
<meta name=theme-color content="#005f9e">
<link rel=canonical href=https://trimble-oss.github.io/devguide/development-practices/unit-testing/>
<link rel=icon href=/favicon.svg type=image/svg+xml>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-106389617-3"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','UA-106389617-3',{anonymize_ip:!0})</script>
</head><body data-url=/devguide/development-practices/unit-testing/ data-spy=scroll data-target=#TableOfContents data-offset=126>
<div class=bg-anim>
<nav class="navbar navbar-expand fixed-top" aria-label="main navigation">
<div class="container flex-column flex-md-row justify-content-end">
<a class="navbar-brand mr-left mr-md-auto font-weight-bold" href=/>
<img src=/img/trimble-logo-rev.svg width=107 height=24 class=img-fluid alt=home>
<div class="small text-white">Developer Guidelines</div>
</a>
<div class="skippy overflow-hidden">
<div class=container>
<a class="sr-only sr-only-focusable nav-item mt-3 mx-0 mx-sm-1" href=#main>Skip to
main content</a>
</div>
</div>
<div class=navbar-nav-scroll>
<ul class=navbar-nav>
<li class="nav-item mx-0 mx-sm-1 mx-md-2">
<a class="nav-link text-white" href=/devguide/development-practices/>Development Practices</a>

<li class="nav-item mx-0 mx-sm-1 mx-md-2">
<a class="nav-link text-white" href=/devguide/code-style/>Code Style</a>

<li class="nav-item mx-0 mx-sm-1 mx-md-2">
<a class="nav-link text-white" href=/devguide/innersource/introduction/>InnerSource</a>

<li class="nav-item mx-0 mx-sm-1 mx-md-2">
<a class="nav-link text-white" href=/devguide/governance/>Governance</a>
</ul>
</div>
</div>
</nav>
<header class="container-fluid px-0 pt-5 pt-md-1">
<div class="container py-md-3 pt-5 pt-xl-1 pb-lg-4 pb-xl-5">
<div class="row py-lg-3 pb-xl-4">
<div class="col-12 py-lg-4 pb-5 text-center">
<h1 class="display-4 font-weight-bold pt-md-4 mt-1 mt-sm-2 mt-md-4 pb-xl-5 text-white">Unit Testing</h1>
</div>
</div>
</div>
</header>
</div>
<main role=main class="mb-5 container">
<div class=row>
<div class="col-12 col-md-3 col-lg-2 menu-left">
<div class=container>
<div class="row mt-n4 d-md-none">
<div class=col>
</div>
<div class="col-1 px-1 mx-auto">
<button class="btn search-docs-toggle d-md-none mx-auto px-0" type=button data-toggle=collapse data-target=#docs-nav aria-controls=docs-nav aria-expanded=true aria-label="Toggle docs navigation"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><path stroke="currentcolor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"/></svg></button>
</div>
</div>
</div>
<div class="sticky-top sticky-offset border-bottom">
<nav class="bd-links collapse" id=docs-nav>
<ul class=list-unstyled id=menu-left>
<li class=mb-3><a class=text-dark href=/devguide/development-practices/code-documentation/>Code Documentation</a>

<li class=mb-3><a class=text-dark href=/devguide/development-practices/code-review/>Code Review</a>

<li class=mb-3><a class=text-dark href=/devguide/innersource/introduction/>InnerSource</a>

<li class=mb-3><a class=text-dark href=/devguide/development-practices/managing-code-complexity/>Managing Code Complexity</a>

<li class=mb-3><a class=text-dark href=/devguide/development-practices/open-source-usage/>Open Source Usage</a>

<li class=mb-3><a class=text-dark href=/devguide/development-practices/packaging-and-distribution/>Packaging and Distribution</a>

<li class=mb-3><a class=text-dark href=/devguide/development-practices/unit-testing/>Unit Testing</a>

<li class=mb-3><a class=text-dark href=/devguide/development-practices/vcs-standards-git/>VCS Standards - Git</a>

<li class=mb-3><a class=text-dark href=/devguide/development-practices/versioning/>Versioning</a>
</ul>
</nav>
</div>
<script>$(function(){for(var nav=document.getElementById("menu-left"),anchor=nav.getElementsByTagName("a"),current=window.location,i=0;i<anchor.length;i++)anchor[i].href==current&&(anchor[i].className="text-dark active",anchor[i].setAttribute("aria-current","page"))})</script>
</div>
<div class="col-12 col-xl-2 d-none d-xl-block d-print-none menu-right order-last">
<script>$(function(){jQuery('#TableOfContents ul').addClass('list-unstyled pl-0 ml-0'),jQuery('#TableOfContents a').addClass('nav-link')})</script>
<div class="sticky-top sticky-offset">
<div class="h5 pt-2 ml-3">
On this page
</div><nav id=TableOfContents>
<ul>
<li><a href=#introduction>Introduction</a>
<li><a href=#best-practices>Best Practices</a>
<ul>
<li><a href=#focused-tests>Focused Tests</a>
<li><a href=#isolated-tests>Isolated Tests</a>
<li><a href=#consistent-naming>Consistent naming</a>
</ul>

<li><a href=#integrate-with-a-build-system>Integrate with a build system</a>
<ul>
<li><a href=#fix-failures>Fix failures</a>
<li><a href=#deterministic-tests>Deterministic tests</a>
<li><a href=#test-coverage-measurements-and-goals>Test Coverage, Measurements, and Goals</a>
</ul>

<li><a href=#appendix>Appendix</a>
<li><a href=#bibliography>Bibliography</a>
</ul>
</nav></div>
</div>
<div class="col-12 col-md-9 col-lg-10 col-xl-8 mx-auto">
<article id=main>
<h2 class="h1 mt-5" id=introduction>Introduction
<a class="header-link text-light text-decoration-none font-weight-normal" href=#introduction></a>
</h2><p>Unit tests are fitness tests for individual parts of a software program, the
part here being the smallest possible testable component. The farther down the
lifecycle of a product/service a bug is discovered, the greater the cost of
fixing it. Unit testing code provides one means to ensure any product/system
is tested early enough in the development lifecycle and so reduces the cost in
the long run.
<p>Unit testing is limited to testing the smallest possible part in the code -
could be a simple class or even a really small group of classes with high
cohesion. Other types of automated tests such as integrations tests that span
multiple layers of the system, while though invaluable are not considered as
unit tests. The scope of the document is limited to guidelines around unit
testing only.
<h2 class="h1 mt-5" id=best-practices>Best Practices
<a class="header-link text-light text-decoration-none font-weight-normal" href=#best-practices></a>
</h2><p>Following are some of the good practices that are applicable regardless of the
development style in place - TDD or otherwise.
<h3 class="h2 mt-5" id=focused-tests>Focused Tests
<a class="header-link text-light text-decoration-none font-weight-normal" href=#focused-tests></a>
</h3>
<p>Ensure the tests are against a very specific behavior of the unit in question,
try to have one logical assertion per test and avoid repeated assertions in
many tests.
<h3 class="h2 mt-5" id=isolated-tests>Isolated Tests
<a class="header-link text-light text-decoration-none font-weight-normal" href=#isolated-tests></a>
</h3>
<p>Make each test completely independent of other tests in the test suite. Use
isolation frameworks to mock/stub out all external dependencies to the subject
under test.
<p>Isolate the tests such that:
<ol>
<li>There is no assumption on the order in which the tests are run
<li>Failures in one tests should not result in failure of another test.
<li>There is no interdependency between tests, intentional or otherwise.
</ol>
<h3 class="h2 mt-5" id=consistent-naming>Consistent naming
<a class="header-link text-light text-decoration-none font-weight-normal" href=#consistent-naming></a>
</h3>
<p>Choose a consistent naming convention for the tests that will reflect
<strong>subject</strong> under test, the <strong>behavior</strong> that is being verified and <strong>result</strong>
that is expected. For example in a Counter unit test, a possible test name
could be <strong>shouldIncreaseCountByOneWhenTicked</strong>. Whatever be the style, make
sure that it is consistent across your test suite and a look at the test
reports should tell you what is tested and what is not.
<h2 class="h1 mt-5" id=integrate-with-a-build-system>Integrate with a build system
<a class="header-link text-light text-decoration-none font-weight-normal" href=#integrate-with-a-build-system></a>
</h2><p>If the focus of the unit tests is to ensure better quality of your
product/system, then it is imperative that these tests are part of a
continuous build system. While all unit tests should be run and found to be
passing prior to being merged into and branches where other team members are
working, deployment processes in place should ensure that all tests are passed
prior to deployments.
<h3 class="h2 mt-5" id=fix-failures>Fix failures
<a class="header-link text-light text-decoration-none font-weight-normal" href=#fix-failures></a>
</h3>
<p>Have a process in place to notify the primary developers of the system in case
of a failure in the tests. Ensuring that all tests are repaired to pass
whenever they are found to be broken is key to having a successful unit testing
culture.
<h3 class="h2 mt-5" id=deterministic-tests>Deterministic tests
<a class="header-link text-light text-decoration-none font-weight-normal" href=#deterministic-tests></a>
</h3>
<p>A key characteristic of a good automated test suite is determinism. Ensure that
tests do not provide false positives or false negatives. Flaky tests if any
should be sufficiently quarantined and processes should be put in place to
ensure that these tests are made deterministic as early as possible.
<h3 class="h2 mt-5" id=test-coverage-measurements-and-goals>Test Coverage, Measurements, and Goals
<a class="header-link text-light text-decoration-none font-weight-normal" href=#test-coverage-measurements-and-goals></a>
</h3>
<p>While the specific Unit Test Coverage goals will be highly dependent on the
team & code base, the act of measuring Unit Test Coverage in a continuous way,
and monitoring how you are performing against your team goals is a recommended
best practice.
<p>In general all teams should operate under the minimum rule of &ldquo;Leave the unit
testing coverage better than you found it&rdquo;.
<h2 class="h1 mt-5" id=appendix>Appendix
<a class="header-link text-light text-decoration-none font-weight-normal" href=#appendix></a>
</h2><p>Following are some of the good practices that are applicable regardless of the development style in place - TDD or otherwise.
<table>
<thead>
<tr>
<th>Language
<th>Unit testing
<th>Isolation framework
<th>Reporting tool


<tbody>
<tr>
<td>Angular JS
<td>
<a href=https://github.com/jasmine/ rel=noopener target=_blank>Jasmine</a>
<td>Jasmine
<td>Karma <br>Cobertura

<tr>
<td>C#
<td>NUnit <br>XUnit <br>MSUnitTest
<td>NUnit mocks <br>Moq <br>
<a href=https://nsubstitute.github.io/ rel=noopener target=_blank>NSubstitute</a>
<td>OpenCover <br>ReportGenerator

<tr>
<td>C++
<td>
<a href=https://github.com/google/googletest rel=noopener target=_blank>Google Test</a> <br>
<a href=https://github.com/catchorg/Catch2 rel=noopener target=_blank>Catch2</a>
<td>
<a href=https://github.com/google/googletest/tree/master/googlemock rel=noopener target=_blank>Google Mock</a> <br>
<a href=https://github.com/eranpeer/FakeIt rel=noopener target=_blank>FakeIt</a>
<td>
<a href=https://github.com/csoltenborn/GoogleTestAdapter rel=noopener target=_blank>Google Test Adapter</a> <br>
<a href=https://www.jetbrains.com/teamcity/ rel=noopener target=_blank>TeamCity</a>

<tr>
<td>Java
<td>
<a href=https://junit.org/ rel=noopener target=_blank>JUnit</a> <br>
<a href=https://testng.org/doc/ rel=noopener target=_blank>Test NG</a>
<td>
<a href=https://site.mockito.org/ rel=noopener target=_blank>Mockito</a> <br>
<a href=https://jmockit.github.io/ rel=noopener target=_blank>JMockit</a>
<td>
<a href=https://gradle.org/ rel=noopener target=_blank>Gradle</a> <br>
<a href=https://maven.apache.org/surefire/maven-surefire-plugin/ rel=noopener target=_blank>Surefire plugin</a> <br>
<a href=https://www.eclemma.org/jacoco/ rel=noopener target=_blank>Jacoco</a> <br>
<a href=https://www.sonarqube.org/ rel=noopener target=_blank>SonarQube</a>

<tr>
<td>Python
<td>
<a href=https://docs.pytest.org/en/latest/ rel=noopener target=_blank>pytest</a>
<td>
<a href=https://pypi.python.org/pypi/pytest-mock rel=noopener target=_blank>pytest-mock</a> <br> wrapper for
<a href=https://pypi.python.org/pypi/mock rel=noopener target=_blank>mock</a>
<td>
<a href=https://pytest-cov.readthedocs.io/en/latest/ rel=noopener target=_blank>pytest-cov</a>


</table>
<h2 class="h1 mt-5" id=bibliography>Bibliography
<a class="header-link text-light text-decoration-none font-weight-normal" href=#bibliography></a>
</h2><ul>
<li>
<a href=https://pragprog.com/book/bopytest/python-testing-with-pytest rel=noopener target=_blank>Python Testing with pytest</a> by Brian Okken is a great introduction to pytest
<li>
<a href=https://stackify.com/unit-testing-basics-best-practices/ rel=noopener target=_blank>You Still Don’t Know How to Do Unit Testing (and Your Secret is Safe with Me)</a>
<li>
<a href=https://blog.stevensanderson.com/2009/08/24/writing-great-unit-tests-best-and-worst-practises/ rel=noopener target=_blank>Writing Great Unit Tests: Best and Worst Practices</a>
</ul>
<footer class="mt-4 pt-3">
<span class="text-secondary small"><i>
Last updated August 27, 2021.
</i></span></footer>
</article>
</div>
</div>
</main> <footer class="p-2 footer pt-4 bg-light">
<div class="container text-dark">
<div class="row pt-2">
<div class="col-12 mb-4 mt-2">
<a href=https://www.trimble.com/ rel=noopener target=_blank>
<img src=/img/trimble-logo.svg width=107 height=24 alt=Trimble>
</a>
</div>
</div>
<div class="row py-2">
<div class="col-11 col-md-5 col-lg-4">
<p>Trimble is transforming the way the world works by delivering products and services that connect the physical
and digital worlds.
</div>
<div class="col-12 col-sm-1 col-lg-4">
</div>
<div class="col-12 col-md-6 col-lg-4">
<ul class=list-unstyled>
<li class="my-2 px-0 mx-0">
<a class="text-decoration-none text-dark" href=/devguide/development-practices/>Development Practices</a>

<li class="my-2 px-0 mx-0">
<a class="text-decoration-none text-dark" href=/devguide/code-style/>Code Style</a>

<li class="my-2 px-0 mx-0">
<a class="text-decoration-none text-dark" href=/devguide/innersource/introduction/>InnerSource</a>

<li class="my-2 px-0 mx-0">
<a class="text-decoration-none text-dark" href=/devguide/governance/>Governance</a>
</ul>
</div>
</div>
<div class="row p-3">
<div class="col-12 border-top border-light opacity-50">
</div>
</div>
<div class="row pt-2">
<div class="col-12 col-sm-6 small">
Copyright &copy; 2022, Trimble Inc.
</div>
<div class="col-12 col-sm-6 text-sm-right small">
<a href=https://www.trimble.com/Corporate/Terms_of_Use.aspx rel=noopener target=_blank>Terms of Use</a>
</div>
</div>
</div>
</footer>
<script src=/js/clipboard.min.js></script>
<script src=/devguide/js/app.min.js async></script>
</body>
</html>